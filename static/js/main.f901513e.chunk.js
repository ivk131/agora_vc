(this["webpackJsonpgroup-video-calling-app"]=this["webpackJsonpgroup-video-calling-app"]||[]).push([[0],{156:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=(a(156),a(26)),s=a(11),l=a(8),d=a.n(l),u=a(16),j=a(72),b="video__confrencing__app",m={mode:"rtc",codec:"vp8",appId:"002d67ae068040be96b28ec17b115ea8",token:"007eJxTYHh9dNPPCsXkm9ouJ6I2qe13jmJfOflvQVVTf/xBtoTAtHYFBgMDoxQz88RUAzMLAxODpFRLsyQji9RkQ/MkQ0PT1ESLsIay5IZARgZ2rb2MjAwQCOKLM5RlpqTmx8cn5+elFaXmJWfmpcfHJxYUMDAAAPyNJnY"},p=Object(j.createClient)(m),h=Object(j.createMicrophoneAndCameraTracks)(),O=(document.getElementById("remotePlayerContainer"),document.getElementById("localPlayerContainer"),a(241)),f=a(224),x=a(27),g=a(227),v=a(228),y=a(79),S=a.n(y),w=a(3);function I(e){var t=e.users,a=e.tracks,r=(e.fullName,e.userName),c=e.auidiences,o=Object(n.useState)(12),i=Object(s.a)(o,2),l=i[0],b=i[1],m=Object(n.useState)(""),h=Object(s.a)(m,2),y=(h[0],h[1],Object(n.useState)({video:!0,audio:!0})),I=Object(s.a)(y,2),k=I[0],C=I[1],T=p();Object(n.useEffect)((function(){b(Math.max(Math.floor(12/(t.length+1)))),console.log("gridSpacing",l),console.log("resresresresresres",function(e,t){return e.filter((function(e){return!t.find((function(t){return t.Uid===e.uid}))}))}(t,c))}),[t,a]);var _=(null===t||void 0===t?void 0:t.length)+1,P=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==t){e.next=9;break}return e.next=3,a[0].setEnabled(!k.audio);case 3:C((function(e){return Object(x.a)(Object(x.a)({},e),{},{audio:!e.audio})})),alert("mute remote-1"),T.on("stream-subscribed",(function(e){var t=e.stream;alert("mute remote-2"),t.muteAudio(),console.log("stream-subscribed--------------------------",t)})),alert("mute remote-3"),e.next=13;break;case 9:if("video"!==t){e.next=13;break}return e.next=12,a[1].setEnabled(!k.video);case 12:C((function(e){return Object(x.a)(Object(x.a)({},e),{},{video:!e.video})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(f.a,{container:!0,style:{height:"100%",background:"#454545",width:"100%"},spacing:1,children:[Object(w.jsx)(f.a,{item:!0,className:"admin__video__container",style:{height:"392px",width:"70%"},sm:12,xs:12,children:Object(w.jsx)(j.AgoraVideoPlayer,{videoTrack:a[1],id:"localPlayerContainer",style:{display:"flex",justifyContent:"center",padding:"0 15%",height:"100%",background:"#000",width:"100%",maxHeight:"".concat(_," <= 2 ? 100%: 280px"),position:"relative"},children:Object(w.jsx)(O.a,{style:{position:"absolute",bottom:"2%",left:"15.2%",zIndex:1,background:"#f2f4f6",padding:"2px 8px",borderRadius:"4px"},children:Object(w.jsxs)(g.a,{variant:"body2",children:[" ",null!==r&&void 0!==r?r:"Guest"," "]})})})}),t.length>0&&t.map((function(e){return e.videoTrack?Object(w.jsx)(f.a,{item:!0,className:"admin__video__container2",style:{height:"142px",display:"flex",justifyContent:"center",overflow:"auto"},xs:4,sm:2,children:Object(w.jsxs)(j.AgoraVideoPlayer,{videoTrack:e.videoTrack,style:{position:"relative",height:"100%",width:"100%",background:"#fff"},children:[Object(w.jsx)(O.a,{style:{position:"absolute",bottom:"1%",left:"1%",zIndex:1,background:"#fff",padding:"2px 8px",borderRadius:"4px"},children:Object(w.jsxs)(g.a,{variant:"body2",children:[null===e||void 0===e?void 0:e.uid," "]})}),Object(w.jsx)(O.a,{style:{position:"absolute",top:"1%",right:"1%",zIndex:1,padding:"2px 8px",borderRadius:"4px"},children:Object(w.jsx)(v.a,{onClick:function(){return P("audio")},children:Object(w.jsx)(S.a,{color:"primary",fontSize:"small"})})})]},e.uid)}):null}))]})}var k=a(120),C=a(230),T=a(249),_=a(238),P=a(92),N=a.n(P),D=a(126),A=a.n(D),L=a(127),E=a.n(L),M=a(132),W=a.n(M),R=a(131),U=a.n(R),q=a(128),z=a.n(q),F=a(129),J=a.n(F),B=a(130),V=a.n(B),H=a(133),Q=a.n(H),Y=a(30),G=a(121),K=Object(G.a)({apiKey:"AIzaSyA0kfy4FNpQOFPRPrr0T2Le2PjfCrKXhcY",authDomain:"agora-vc.firebaseapp.com",databaseURL:"https://agora-vc-default-rtdb.firebaseio.com",projectId:"agora-vc",storageBucket:"agora-vc.appspot.com",messagingSenderId:"334486991109",appId:"1:334486991109:web:fe5c9768d9c3f77c13876c",measurementId:"G-6KB45TWME2"}),X=Object(Y.a)(K),Z=a(33),$=a.n(Z),ee=a(12),te=a(245),ae=a(233),ne=a(229),re=a(246),ce=a(124),oe=a.n(ce),ie=a(243),se=a(122),le=a.n(se),de=a(123),ue=a.n(de),je=r.a.forwardRef((function(e,t){return Object(w.jsx)(ne.a,Object(x.a)({direction:"up",ref:t},e))})),be={commentId:Object(ie.a)(),Uid:0,comment:"",image:"https://iplfarmersamvad.com/files/16633155061071663315503000.jpg",requestCode:0,userID:"",userName:"",date:null},me=Object(C.a)((function(){return{modalContainer:{display:"flex",justifyContent:"right",position:"absolute",right:"8px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center"}}}));function pe(e){var t=e.openChat,a=e.setOpenOpenChat,c=e.handleOpenChatDialog,o=(e.users,r.a.useState(!1)),l=Object(s.a)(o,2),j=(l[0],l[1],Object(n.useState)([])),b=Object(s.a)(j,2),m=b[0],p=b[1],h=Object(n.useState)(be),f=Object(s.a)(h,2),y=f[0],S=f[1],I=me();Object(n.useEffect)((function(){var e=Object(Y.c)(X,"comments");Object(Y.b)(e,(function(e){p([]);var t=e.val();null!==t&&Object.values(t).map((function(e){p((function(t){return[].concat(Object(i.a)(t),[e])}))}))}))}),[]);var k=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y.commentId,a=y.Uid,n=y.comment,r=y.image,c=y.requestCode,y.userID,y.userName,e.next=4,fetch("https://agora-vc-default-rtdb.firebaseio.com/comments.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({commentId:Object(ie.a)(),Uid:a,comment:n,image:r,requestCode:c,userID:localStorage.getItem("response_userId"),userName:localStorage.getItem("name"),date:new Date})});case 4:e.sent?S({commentId:null,Uid:0,comment:"",image:"",requestCode:null,userID:"",userName:"",date:null}):alert("Something went worng!!!");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{children:Object(w.jsx)(te.a,{open:t,TransitionComponent:je,keepMounted:!0,onClose:c,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",className:I.modalContainer,children:Object(w.jsxs)(ae.a,{children:[Object(w.jsxs)(O.a,{style:{height:"420px"},children:[Object(w.jsxs)(O.a,{className:I.header,children:[Object(w.jsx)(g.a,{variant:"h6",children:" In-call messages"}),Object(w.jsx)(v.a,{onClick:function(){a(!1)},children:Object(w.jsx)(ue.a,{fontSize:"small",color:"primary"})})]}),Object(w.jsx)(O.a,{style:{maxHeight:"360px",overflow:"auto",maxWidth:"320px",paddingRight:"8px"},children:m.map((function(e){return Object(w.jsxs)(O.a,{style:{display:"flex",justifyContent:"space-between",padding:"2px 0",flexDirection:"column"},children:[Object(w.jsxs)(O.a,{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(w.jsx)(g.a,{variant:"subtitle1",children:null===e||void 0===e?void 0:e.userName}),Object(w.jsx)(g.a,{variant:"body2",style:{marginLeft:"32px"},children:le()(null===e||void 0===e?void 0:e.date).format("h:mm:ss a")})]}),Object(w.jsx)(O.a,{children:Object(w.jsxs)(g.a,{color:"textSecondary",children:[null===e||void 0===e?void 0:e.comment," ","  "]})})]},e.key)}))})]}),Object(w.jsx)("form",{onSubmit:k,children:Object(w.jsx)(O.a,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(w.jsxs)(O.a,{style:{display:"flex",position:"relative"},children:[Object(w.jsx)(re.a,{fullWidth:!0,onChange:function(e){var t=e.target,a=t.name,n=t.value;S(Object(x.a)(Object(x.a)({},y),{},Object(ee.a)({},a,n)))},variant:"outlined",placeholder:"Send a message to everyone",name:"comment",value:y.comment,size:"small"}),Object(w.jsx)(v.a,{style:{position:"absolute",right:"8px"},type:"submit",disabled:0===y.comment.length,color:"primary",children:Object(w.jsx)(oe.a,{fontSize:"small",color:y.comment&&"primary"})})]})})})]})})})}var he=Object(C.a)((function(e){return{iconsContainer:{display:"flex",alignItems:"center",flexDirection:"column"}}}));function Oe(e){var t=p(),a=e.tracks,r=e.setStart,c=e.setInCall,o=e.users,i=e.auidiences,l=Object(n.useState)({video:!0,audio:!0}),j=Object(s.a)(l,2),b=j[0],m=j[1],h=Object(n.useState)(!1),y=Object(s.a)(h,2),I=(y[0],y[1],Object(n.useState)(!1)),C=Object(s.a)(I,2),P=C[0],D=C[1],L=Object(n.useState)(!1),M=Object(s.a)(L,2),R=(M[0],M[1],Object(n.useState)(!1)),q=Object(s.a)(R,2),F=q[0],B=q[1],H=(he(),{localAudioTrack:null,localVideoTrack:null,remoteAudioTrack:null,remoteVideoTrack:null,remoteUid:null,screenTrack:null}),G=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==t){e.next=6;break}return e.next=3,a[0].setEnabled(!b.audio);case 3:m((function(e){return Object(x.a)(Object(x.a)({},e),{},{audio:!e.audio})})),e.next=10;break;case 6:if("video"!==t){e.next=10;break}return e.next=9,a[1].setEnabled(!b.video);case 9:m((function(e){return Object(x.a)(Object(x.a)({},e),{},{video:!e.video})}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.map((function(e){Object(Y.d)(Object(Y.c)(X,"audiences/".concat(e.uid)),Object(x.a)(Object(x.a)({},e),{},{requestCode:2}))})),alert("alert update called");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.leave();case 2:t.removeAllListeners(),a[0].close(),a[1].close(),r(!1),c(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("remotePlayerContainer"),document.getElementById("localPlayerContainer"),a=document.getElementById("localPlayerContainer__screen"),0!=P){e.next=18;break}return e.next=6,$.a.createScreenVideoTrack();case 6:return H.screenTrack=e.sent,console.log("channelParameters",H.screenTrack),D(!0),e.next=11,t.unpublish(H.localVideoTrack);case 11:return e.next=13,t.publish(H.screenTrack);case 13:console.log(" channelParameters.screenTrack============ 7",H),D(!0),console.log("isSharingEnabled",P),e.next=26;break;case 18:return console.log("screen track line 140",H.screenTrack),H.screenTrack.stop(),e.next=22,t.unpublish(H.screenTrack);case 22:return e.next=24,t.publish(H.localVideoTrack);case 24:H.localVideoTrack.play(a),Object(k.a)("isSharingEnabled");case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){B(!0),localStorage.setItem("isModalOpen",!0)};return Object(w.jsxs)(O.a,{style:{background:"#3c4043",borderRadius:"8px",display:"flex",justifyContent:"center",backgroundColor:"#3c4043"},justifyContent:"center",p:1,children:[Object(w.jsxs)(f.a,{container:!0,alignItems:"center",display:"flex",justify:"center",children:[Object(w.jsx)(O.a,{flexGrow:.5}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:2,children:Object(w.jsx)(O.a,{style:{color:"#fff"},children:Object(w.jsxs)(g.a,{variant:"h6",children:[localStorage.getItem("name")," "]})})}),Object(w.jsx)(O.a,{flexGrow:1}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:1,textAlign:"center",children:Object(w.jsx)(O.a,{textAlign:"center",children:Object(w.jsx)(T.a,{arrow:!0,title:b.audio?"Turn off microphone":"Turn on microphone",children:Object(w.jsx)(v.a,{variant:"contained",color:b.audio?"primary":"",onClick:function(){return G("audio")},children:b.audio?Object(w.jsx)(S.a,{}):Object(w.jsx)(N.a,{})})})})}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:1,textAlign:"center",children:Object(w.jsx)(O.a,{textAlign:"center",children:Object(w.jsx)(T.a,{arrow:!0,title:b.video?"Turn off camera":"Turn on camera",children:Object(w.jsx)(v.a,{variant:"contained",color:b.video?"primary":"",onClick:function(){return G("video")},children:b.video?Object(w.jsx)(A.a,{}):Object(w.jsx)(E.a,{})})})})}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:1,textAlign:"center",children:Object(w.jsx)(O.a,{textAlign:"center",children:Object(w.jsx)(T.a,{arrow:!0,title:P?"Stop":"Present Now",children:Object(w.jsx)(v.a,{variant:"contained",color:P?"primary":"",onClick:ee,children:P?Object(w.jsx)(J.a,{}):Object(w.jsx)(z.a,{})})})})}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:1,children:Object(w.jsx)(O.a,{textAlign:"center",children:Object(w.jsx)(T.a,{title:"Raise Hand",arrow:!0,children:Object(w.jsx)(v.a,{variant:"contained",color:P?"primary":"",onClick:function(){alert("Raise Hand ?")},children:Object(w.jsx)(V.a,{})})})})}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:1,children:Object(w.jsx)(O.a,{textAlign:"center",children:Object(w.jsx)(T.a,{title:" Hang call",arrow:!0,children:Object(w.jsx)(v.a,{variant:"outlined",color:"secondary",style:{color:"red",background:"#fff"},onClick:function(){Z(),alert("Are you sure, You want to end this merting?"),localStorage.clear(),window.location.href="/welcome"},children:Object(w.jsx)(U.a,{fontSize:"small",color:"secondary"})})})})}),Object(w.jsx)(O.a,{flexGrow:1}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:1,children:Object(w.jsx)(O.a,{textAlign:"right",children:Object(w.jsx)(T.a,{arrow:!0,title:b.audio?"Mute All":"Unmute",children:Object(w.jsx)(v.a,{variant:"contained",color:b.audio?"primary":"",onClick:function(){return K("audio")},children:b.audio?Object(w.jsx)(S.a,{}):Object(w.jsx)(N.a,{})})})})}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:1,children:Object(w.jsx)(O.a,{textAlign:"center",children:Object(w.jsx)(v.a,{children:Object(w.jsx)(_.a,{badgeContent:(null===o||void 0===o?void 0:o.length)+1,children:Object(w.jsx)(W.a,{})})})})}),Object(w.jsx)(f.a,{item:!0,xs:3,sm:1,children:Object(w.jsx)(O.a,{children:Object(w.jsx)(v.a,{onClick:te,children:Object(w.jsx)(Q.a,{})})})})]}),Object(w.jsx)(pe,{openChat:F,setOpenOpenChat:B,handleOpenChatDialog:te,users:o})]})}function fe(e){var t=e.fullName,a=(e.isLogin,e.setInCall),r=Object(n.useState)([]),c=Object(s.a)(r,2),o=c[0],l=c[1],j=Object(n.useState)(!1),x=Object(s.a)(j,2),g=x[0],v=x[1],y=Object(n.useState)(""),S=Object(s.a)(y,2),k=S[0],C=S[1],T=Object(n.useState)([]),_=Object(s.a)(T,2),P=_[0],N=_[1],D=Object(n.useState)(!1),A=Object(s.a)(D,2),L=(A[0],A[1]),E=p(),M=h(),W=M.ready,R=M.tracks,U=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://agora-vc-default-rtdb.firebaseio.com/audiences.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({State:1,Uid:localStorage.getItem("Uid"),image:"https://iplfarmersamvad.com/files/1665566846049null.jpg",userID:localStorage.getItem("response_userId"),userName:localStorage.getItem("name"),requestCode:1})});case 2:(t=e.sent)?console.log("Data Stored",t):alert("Something went worng!!!");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){U()}),[]),Object(n.useEffect)((function(){localStorage.getItem("isLogin")&&L(!0);var e=function(){var e=Object(u.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.on("user-published",function(){var e=Object(u.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.subscribe(t,a);case 2:"video"===a&&(l((function(e){return[].concat(Object(i.a)(e),[t])})),console.log("users_____________________",o)),"audio"===a&&t.audioTrack.play();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),E.on("user-unpublished",(function(e,t){"audio"===t&&e.audioTrack&&e.audioTrack.stop(),"video"===t&&l((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),E.on("user-left",(function(e){l((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),e.prev=3,e.next=6,E.join(m.appId,t,m.token,0);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("error",e.t0);case 11:if(!R){e.next=14;break}return e.next=14,E.publish([R[0],R[1]]).then((function(e){return console.log("response",e)})).catch((function(e){return"Error"}));case 14:v(!0);case 15:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,a){return e.apply(this,arguments)}}();if(W&&R)try{e(b,t)}catch(a){console.log(a)}C(localStorage.getItem("name"))}),[b,E,W,R]),Object(n.useEffect)((function(){var e=Object(Y.c)(X,"audiences");Object(Y.b)(e,(function(e){var t=[];console.log("snapshort",e),e.forEach((function(e){var a=e.key,n=e.val();t.push({key:a,value:n}),N(t)}))}))}),[o.length]),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(O.a,{style:{background:"#0000",padding:"4px"},children:Object(w.jsxs)(f.a,{container:!0,style:{background:"#0000"},children:[Object(w.jsx)(f.a,{item:!0,xs:12,style:{height:"87vh"},children:g&&R&&Object(w.jsx)(I,{tracks:R,users:o,fullName:t,userName:k,auidiences:P})}),Object(w.jsx)(f.a,{item:!0,xs:12,children:W&&R&&Object(w.jsx)(Oe,{tracks:R,setStart:v,setInCall:a,users:o,auidiences:P})})]})})})}var xe=a(59),ge=a(13),ve=a(239),ye=a(231),Se=a(236),we=a(248),Ie=a(242),ke=a(250),Ce=a(240),Te=a(48),_e={PaperProps:{style:{maxHeight:224,width:250}}},Pe={name:"",mobile:"",stateId:null,districtID:null,password:"",confirmPassword:""};var Ne=function(){var e=Object(n.useState)(Pe),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=(o[0],o[1],Object(n.useState)(!1)),l=Object(s.a)(i,2),d=(l[0],l[1]),u=Object(n.useState)(null),j=Object(s.a)(u,2),b=(j[0],j[1],Object(n.useState)([])),m=Object(s.a)(b,2),p=m[0],h=m[1],v=Object(n.useState)([]),y=Object(s.a)(v,2),S=y[0],I=y[1],k=Object(n.useState)(!1),C=Object(s.a)(k,2),T=C[0],_=C[1];Object(n.useEffect)((function(){localStorage.getItem("isLogin")&&_(!0),Te.a.get("https://iplfarmersamvad.com/CMSWSIPL/ws/stateList/json").then((function(e){var t;h(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.StateList)})).catch((function(e){return console.log(e)})),a.stateId&&Te.a.get("https://iplfarmersamvad.com/CMSWSIPL/ws/districtList/json/".concat(a.stateId)).then((function(e){var t;I(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.districtList)})).catch((function(e){return console.log("Something Went wrong!!!",e)}))}),[a.stateId]);var P=function(e){var t=e.target,n=t.name,c=t.value;r(Object(x.a)(Object(x.a)({},a),{},Object(ee.a)({},n,c)))};return console.log("value",a),Object(w.jsxs)(w.Fragment,{children:[T&&Object(w.jsx)(ge.a,{to:"/login",replace:!0}),Object(w.jsx)(ve.a,{maxWidth:"xs",children:Object(w.jsx)(O.a,{pt:8,children:Object(w.jsxs)(O.a,{className:"",component:ye.a,p:2,children:[Object(w.jsx)(O.a,{pb:2,children:Object(w.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign Up"})}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Te.a.post("https://iplfarmersamvad.com/CMSWSIPL/ws/volunteer/json/volunteerSave",a).then((function(e){"mobile_exist"===e.data.msg?d(!0):d(!1),"mobile_exist"===e.data.msg&&alert("Mobile Number already exits"),"success"===e.data.msg&&alert("Registered Successfully"),"success"===e.data.msg&&_(!0)&&r({name:"",mobile:"",stateId:null,districtID:null,password:"",confirmPassword:""})})).catch((function(e){console.error("There was an error!",e)}))},children:[Object(w.jsx)(re.a,{variant:"outlined",placeholder:"Full Name",margin:"dense",required:!0,fullWidth:!0,name:"name",label:"Full Name",id:"name",autoComplete:"current-password",value:a.name,onChange:P}),Object(w.jsx)(re.a,{variant:"outlined",margin:"dense",required:!0,fullWidth:!0,name:"mobile",placeholder:"888 999 2128",label:"Mobile",type:"number",id:"mobile",value:a.mobile,onChange:P}),Object(w.jsxs)(Se.a,{variant:"outlined",margin:"dense",fullWidth:!0,children:[Object(w.jsx)(we.a,{id:"select__state",children:"State(Optional)"}),Object(w.jsx)(Ie.a,{labelId:"stateList",id:"stateList_id",value:a.stateId,name:"stateId",onChange:P,label:"State(Optional)",MenuProps:_e,children:p.map((function(e){return Object(w.jsxs)(ke.a,{value:e.stateID,children:[e.stateName," "]},e.stateID)}))})]}),Object(w.jsxs)(Se.a,{variant:"outlined",margin:"dense",fullWidth:!0,children:[Object(w.jsx)(we.a,{id:"select__state",children:"District(optional)"}),Object(w.jsx)(Ie.a,{labelId:"District(optional)",id:"District(optional)",value:a.districtID,name:"districtID",onChange:P,label:"District(optional)",MenuProps:_e,children:S.map((function(e){return Object(w.jsx)(ke.a,{value:e.districtID,children:e.districtName},e.districtID)}))})]}),Object(w.jsx)(re.a,{variant:"outlined",margin:"dense",required:!0,fullWidth:!0,name:"password",label:"Password",placeholder:"*********",id:"password",value:a.password,type:"password",onChange:P}),Object(w.jsx)(re.a,{variant:"outlined",margin:"dense",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",placeholder:"*********",id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:P}),Object(w.jsx)(Ce.a,{fullWidth:!0,disabled:0===a.name.length||a.mobile.length<10||0===a.password.length||0===a.confirmPassword.length,style:{marginTop:"24px",textTransform:"capitalize"},variant:"contained",color:"primary",type:"submit",children:"SignUp"}),Object(w.jsx)(O.a,{pt:1,children:Object(w.jsxs)(g.a,{children:["Already have an account ?"," ",Object(w.jsx)("span",{children:Object(w.jsx)(xe.b,{to:"/login",children:"Login"})})]})}),Object(w.jsx)(f.a,{container:!0,children:Object(w.jsx)(f.a,{item:!0,xs:!0})})]})]})})})]})},De=Te.a.create({baseURL:"https://iplfarmersamvad.com/CMSWSIPL/ws"}),Ae={mobile:"",password:""};var Le=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)(Ae),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(),j=Object(s.a)(l,2),b=(j[0],j[1],Object(n.useState)("")),m=Object(s.a)(b,2),p=m[0],h=m[1];Object(n.useEffect)((function(){localStorage.getItem("isLogin")&&h(!0)}),[p]);var f=function(e){var t=e.target,a=t.name,n=t.value;i(Object(x.a)(Object(x.a)({},o),{},Object(ee.a)({},a,n)))},v=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.mobile,a=o.password,e.next=3,fetch("https://agora-vc-default-rtdb.firebaseio.com/users.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:t,password:a})});case 3:(n=e.sent)?console.log("Data Stored",n):alert("Something went worng!!!");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.get("/userProfile/json/".concat(localStorage.getItem("response_userId"),"/false")).then((function(e){var t;console.log(" getUserProfile response",localStorage.setItem("name",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.workerProfile[0].name))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.post("/userAuth/agoratoken",{userId:localStorage.getItem("response_userId"),channelName:"",eventId:12}).then((function(e){var t,a,n,r,c;localStorage.setItem("agoraToken",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.agoraToken),localStorage.setItem("appId",null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.appId),localStorage.setItem("channelName",null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.channelName),localStorage.setItem(" eventId",null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.eventId),localStorage.setItem("role",null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.role),console.log("getUserDetails",e.data)}));case 2:a(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[p&&Object(w.jsx)(ge.a,{to:"/"}),Object(w.jsx)(ve.a,{maxWidth:"xs",children:Object(w.jsx)(O.a,{pt:8,children:Object(w.jsxs)(O.a,{className:"",component:ye.a,p:2,children:[Object(w.jsx)(O.a,{pb:2,children:Object(w.jsx)(g.a,{component:"h1",variant:"h5",children:"Login"})}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Te.a.get("https://iplfarmersamvad.com/CMSWSIPL/ws/userAuth/json/".concat(o.mobile,"/").concat(o.password)).then((function(e){var t,a,n;!0===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.valid)?(localStorage.setItem("isLogin",!0),h(!0),localStorage.setItem("response_userId",null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.response_userId),v()):!1===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.valid)&&alert("Invalid credentails!!")})).catch((function(e){console.error("There was an error!",e)})),S(),setTimeout((function(){y()}),3e3),localStorage.getItem("isLogin")&&a(!0),i({mobile:"",password:""})},children:[Object(w.jsx)(re.a,{variant:"outlined",margin:"dense",placeholder:"888 999 6612",required:!0,fullWidth:!0,name:"mobile",label:"Mobile",type:"number",id:"mobile",value:o.mobile,onChange:f}),Object(w.jsx)(re.a,{variant:"outlined",margin:"dense",required:!0,fullWidth:!0,placeholder:"*******",name:"password",label:"Password",id:"password",value:o.password,type:"password",onChange:f}),Object(w.jsx)(Ce.a,{fullWidth:!0,disabled:o.mobile.length<10||0===o.password.length,style:{marginTop:"24px",textTransform:"capitalize"},variant:"contained",color:"primary",type:"submit",children:"Login"}),Object(w.jsx)(O.a,{pt:1,children:Object(w.jsxs)(g.a,{children:["Don't have an account ?"," ",Object(w.jsx)("span",{children:Object(w.jsx)(xe.b,{to:"/signup",children:"Sign Up"})})]})})]})]})})})]})};var Ee=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=(t[0],t[1],Object(n.useState)(!1)),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){localStorage.getItem("isLogin")&&ge.a}),[]),Object(w.jsxs)(w.Fragment,{children:[c&&Object(w.jsx)(ge.a,{to:"/login"}),Object(w.jsx)(ve.a,{maxWidth:"xs",children:Object(w.jsx)(O.a,{pt:8,children:Object(w.jsxs)(O.a,{className:"",component:ye.a,p:2,children:[Object(w.jsx)(O.a,{pb:2,children:Object(w.jsx)(g.a,{component:"h1",variant:"h5",children:"You're left the meeting!!!"})}),Object(w.jsx)(Ce.a,{fullWidth:!0,style:{marginTop:"24px",textTransform:"capitalize"},variant:"contained",color:"primary",onClick:function(){o(!0)},children:"Rejoin"})]})})})]})};var Me=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)(""),c=Object(s.a)(r,2),o=c[0],l=(c[1],Object(n.useState)([])),d=Object(s.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(!1),m=Object(s.a)(b,2),p=m[0],h=m[1];return Object(n.useEffect)((function(){localStorage.getItem("isLogin")?h(!0):h(!1);var e=Object(Y.c)(X,"events");return Object(Y.b)(e,(function(e){var t=e.val();e.exists()&&Object.values(t).map((function(e){j((function(e){return[].concat(Object(i.a)(u),[e])}))}))}))}),[]),Object(w.jsx)(xe.a,{children:Object(w.jsxs)(ge.d,{children:[Object(w.jsx)(ge.b,{path:"/signup",element:Object(w.jsx)(Ne,{})}),Object(w.jsx)(ge.b,{path:"/login",element:Object(w.jsx)(Le,{})}),Object(w.jsx)(ge.b,{path:"/welcome",element:Object(w.jsx)(Ee,{})}),"`$",p,"` ?"," ",Object(w.jsx)(ge.b,{path:"/",element:Object(w.jsx)(fe,{setInCall:a,fullName:o})})," ",": ",Object(w.jsx)(ge.b,{path:"/login",element:Object(w.jsx)(Le,{})})]})})};o.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(Me,{})}),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.f901513e.chunk.js.map